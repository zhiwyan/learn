## Reids删除过期key的三种策略

### Redis对于过期key有三种清除策略：

- 被动删除：当读/写一个已经过期的key时，会触发惰性删除策略，直接删除这个过期key
- 主动删除：由于惰性删除策略无法保证过期数据及时删掉，所以redis会定期主动淘汰一批已经过期的key
- 当已使用内存超过配置设置的阈值时，触发主动清除策略

### 被动删除

只有key被操作时，redis才会被动检查该key是否过期，如果过期则删除。

### 主动删除

redis会周期性的随机测试一批设置了过期时间的key并进行处理。测试到已经过期的key将被删除。

当前已使用内存超过maxmemory限定时，触发主动清除策略。



